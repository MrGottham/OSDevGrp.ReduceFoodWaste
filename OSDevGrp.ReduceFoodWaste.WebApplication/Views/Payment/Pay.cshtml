@using OSDevGrp.ReduceFoodWaste.WebApplication.Models
@using OSDevGrp.ReduceFoodWaste.WebApplication.Resources
@model PayableModel

@{
    ViewBag.Title = Texts.Payment;
}

@section sidebar {
    @Html.Partial("_Sidebar")
}

<div class="row">
    <hgroup class="title">
        <h2>@ViewBag.Title</h2>
    </hgroup>
    @if (string.IsNullOrEmpty(ViewBag.StatusMessage) == false)
    {
        <p class="message-success">@ViewBag.StatusMessage</p>
    }
    @if (string.IsNullOrEmpty(ViewBag.ErrorMessage) == false)
    {
        <p class="message-error">@ViewBag.ErrorMessage</p>
    }
    <hgroup class="title">
        <h3>@Texts.BillingInformations</h3>
    </hgroup>
    <p>@Html.Raw(Model.BillingInformation)</p>
    @if (Model.PaymentHandlers != null && Model.PaymentHandlers.Any(paymentHandler => string.IsNullOrWhiteSpace(paymentHandler.ImagePath) == false))
    {
        <hgroup class="title">
            <h3>@Texts.PayBy</h3>
        </hgroup>
        <section>
            @foreach (PaymentHandlerModel paymentHandler in Model.PaymentHandlers.Where(paymentHandler => string.IsNullOrWhiteSpace(paymentHandler.ImagePath) == false))
            {
                using (Html.BeginForm("XYZ", "Payment", FormMethod.Post, new {returnUrl = ViewBag.ReturnUrl}))
                {
                }
            }
        </section>
    }
</div>
